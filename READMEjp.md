# Commit Message スキル 📝

[English](./README.md)

読みやすく効果的なコミットメッセージを作成するための包括的な Claude Code スキルです。Conventional Commits、Semantic Commits、日本語の慣習をサポートしています。

## 🌟 特徴

- **自動生成**: `git diff` と `git status` からコミットメッセージを生成
- **複数の規約対応**: Conventional Commits、Semantic Commits、日本語の慣習をサポート
- **検証機能**: 既存メッセージが規約に従っているかチェック
- **ベストプラクティス**: 様々なシナリオに応じたガイドラインとテンプレートを提供
- **日本語完全対応**: 日本語でのコミットメッセージ作成を完全サポート

## 📦 インストール方法

### 🚀 Gemini CLI ユーザー向け

1. **Gemini CLI を使用してインストール**
   ```bash
   gemini skills install commit-message.skill
   ```
   またはフォルダから直接インストール：
   ```bash
   gemini skills install .
   ```

2. **使用開始**
   - Gemini に「コミットメッセージを作成して」と依頼
   - Gemini は自動的にインストールされたスキルを使用します。

### 🤖 Claude Code ユーザー向け

1. **スキルパッケージをダウンロード**
   ```bash
   # commit-message.skill ファイルをダウンロード
   ```

2. **Claude Code CLI を使用してインストール**
   ```bash
   claude skills install commit-message.skill
   ```

3. **使用開始**
   - Claude に「コミットメッセージを作成して」と依頼
   - Claude が自動的にこのスキルを使用してメッセージを生成

### 💎 手動インストール（代替方法）

1. **スキルを展開**
   ```bash
   unzip commit-message.skill -d ~/.claude/skills/commit-message
   ```

2. **インストールを確認**
   ```bash
   claude skills list
   ```

## 🎯 サポートする規約

### Conventional Commits
オープンソースプロジェクトで広く使用される国際標準規約。

**フォーマット:**
```
<type>[optional scope]: <description>

[optional body]

[optional footer]
```

**例:**
```
feat(auth): 2段階認証機能を追加

SMS経由の2段階認証を実装。
ログイン時にワンタイムコードを送信。

Closes #123
```

### Semantic Commits
より直感的な動詞ベースの規約。

**フォーマット:**
```
<verb>: <subject>

[optional body]
```

**例:**
```
add: ユーザープロフィールカスタマイズ機能

ユーザーがテーマやレイアウトオプションで
プロフィールの外観をカスタマイズ可能に。
```

### 日本語の慣習
日本語に最適化されたコミットメッセージ規約。

**フォーマット:**
```
<動詞>：<対象>

[詳細説明]
```

**例:**
```
追加：ダークモード機能

ヘッダーにダークモード切り替えボタンを追加。
ユーザーの設定はlocalStorageに保存。

Closes #456
```

## 🚀 使い方

### コミットメッセージの生成

Claude にシンプルに依頼：
```
「コミットメッセージを作成して」
「コミットを書くのを手伝って」
「変更からコミットメッセージを生成して」
```

Claude が自動的に：
1. `git status` と `git diff --staged` を実行
2. 変更内容を分析
3. プロジェクトの規約を検出
4. 適切なメッセージを生成

### 既存メッセージの検証

Claude にレビューを依頼：
```
「このコミットメッセージをチェックして」
「コミットメッセージをレビューして」
「このコミットメッセージは良い？」
```

Claude が：
1. メッセージを読み取る
2. 使用されている規約を特定
3. ルールに照らして検証
4. 改善案を提示

### ベストプラクティスの取得

ガイダンスを依頼：
```
「良いコミットメッセージの書き方は？」
「コミット本文には何を書くべき？」
「コミットメッセージのテンプレートを見せて」
```

## 📚 含まれるリソース

### リファレンスファイル（全て日本語）

- **conventional_commits.md**: Conventional Commits の完全ガイド
- **semantic_commits.md**: Semantic Commits の仕様
- **japanese_practices.md**: 日本語コミットメッセージの慣習
- **best_practices.md**: 7つの黄金律とベストプラクティス
- **templates.md**: 様々なシナリオ別テンプレート

### カバーするシナリオ

- 新機能追加（小規模・中規模・大規模）
- バグ修正（シンプル・詳細・緊急修正）
- リファクタリング
- パフォーマンス改善
- ドキュメント更新
- テスト
- 破壊的変更
- リバート

## 💡 実例

### 例1: 機能追加

**変更内容:**
- ダークモード切り替えを追加
- テーマシステムを更新
- localStorage での永続化を追加

**生成されるメッセージ:**
```
feat: ダークモード機能を追加

ヘッダーにダークモード切り替えボタンを追加。
ユーザーの設定はlocalStorageに保存され、
セッション間で維持される。

実装内容：
- アプリ全体のテーマ管理にThemeProviderを使用
- UI用のThemeToggleコンポーネント
- システム設定の自動検出に対応

Closes #456
```

### 例2: バグ修正

**変更内容:**
- セッションタイムアウトロジックを修正
- エラーハンドリングを更新

**生成されるメッセージ:**
```
fix: ログイン時のセッションタイムアウトエラー

セッション有効性チェックロジックに誤りがあり、
有効なセッションでもタイムアウトエラーが
発生していた。

有効期限のタイムスタンプを正しく
チェックするようにバリデーションロジックを更新。

Fixes #789
```

### 例3: 日本語メッセージ

**変更内容:**
- 認証ロジックをリファクタリング
- 複数のモジュールに分割

**生成されるメッセージ:**
```
リファクタリング：認証ロジックの整理

【背景】
認証コードが複数ファイルに散在し、
メンテナンスが困難になっていた。

【変更内容】
1. AuthServiceクラスに処理を集約
2. JWT処理をTokenManagerに分離
3. セッション管理をSessionStoreに分離

【保証】
全テストが通過。外部動作は完全に同一。
```

## 🎨 規約の自動検出

スキルは以下の方法でプロジェクトの規約を自動検出します：

1. `.commitlintrc` または `commitlint.config.js` の確認
2. 最近のコミット履歴の分析（`git log --oneline -20`）
3. パターンの識別：
   - `feat:`, `fix:` → Conventional Commits
   - `add:`, `update:` → Semantic Commits
   - 日本語の動詞 → 日本語の慣習

## ✨ 主なメリット

- **一貫性**: プロジェクト全体で統一された規約
- **可読性**: 理解しやすい履歴
- **効率性**: より速いコードレビューとデバッグ
- **自動化**: 自動 CHANGELOG 生成を可能に
- **チーム協業**: 明確なメッセージによる優れたコミュニケーション

## 📖 ドキュメント

完全なドキュメントがスキルのリファレンスファイルに含まれています：

- 各規約の詳細な説明
- メッセージ作成のステップバイステップガイド
- よくある間違いと回避方法
- チーム規約のセットアップガイドライン
- ツール統合（commitlint、husky）

## 🤝 貢献

このスキルは Claude Code Skill Creator ガイドラインに従って作成されました。フィードバックや提案を歓迎します！

## 📄 ライセンス

MIT

---

**より良いコミットメッセージのために ❤️ を込めて作成**
